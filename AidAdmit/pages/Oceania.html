
<!DOCTYPE html>
<html lang="en">

<head>
  <title>AidAdmit</title>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="format-detection" content="telephone=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="author" content="author">
  <meta name="keywords" content="keywords">
  <meta name="description" content="description">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css">
  <link rel="stylesheet" href="css/vendor.css">
  <link rel="stylesheet" href="css/style.css">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Licorice&family=Playfair+Display:ital,wght@0,400;1,700&family=Roboto:wght@300;400;500;700&display=swap"
    rel="stylesheet">
    
  <style>
    :root {
        --primary-color: #3a86ff;
        --secondary-color: #ff006e;
        --light-bg: #f8f9fa;
    }

    .container {
        max-width: 900px;
    }
    
    .header {
        text-align: center;
        margin-bottom: 30px;
    }
    
    .logo {
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--primary-color);
        margin-bottom: 10px;
    }
    
    .tagline {
        color: #6c757d;
        font-size: 1.2rem;
    }
    
    .card {
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        border: none;
        margin-bottom: 25px;
        overflow: hidden;
    }
    
    .card-header {
        background: var(--primary-color);
        color: white;
        padding: 15px 20px;
        font-weight: 600;
    }
    
    .card-body {
        padding: 25px;
    }
    
    .api-key-setup {
        background: #fff8e1;
        border-left: 4px solid #ffc107;
        padding: 15px;
        margin: 20px 0;
        border-radius: 5px;
    }
    
    .form-group {
        margin-bottom: 20px;
    }
    
    .btn-primary {
        background-color: var(--primary-color);
        border-color: var(--primary-color);
        padding: 10px 20px;
        font-weight: 600;
    }
    
    .btn-primary:hover {
        background-color: #2563eb;
        border-color: #2563eb;
    }
    
    .feature-list {
        list-style-type: none;
        padding: 0;
    }
    
    .feature-list li {
        padding: 10px 0;
        border-bottom: 1px solid #eee;
    }
    
    .feature-list li:last-child {
        border-bottom: none;
    }
    
    .feature-icon {
        color: var(--primary-color);
        margin-right: 10px;
        font-size: 1.2rem;
    }
    
    .step-number {
        display: inline-block;
        width: 30px;
        height: 30px;
        background: var(--primary-color);
        color: white;
        text-align: center;
        line-height: 30px;
        border-radius: 50%;
        margin-right: 10px;
    }
    
    .footer {
        text-align: center;
        margin-top: 40px;
        color: #6c757d;
        font-size: 0.9rem;
    }
    
    .encryption-explanation {
        background: #e8f4f8;
        padding: 20px;
        border-radius: 10px;
        margin: 20px 0;
    }
    
    .status-indicator {
        display: inline-block;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        margin-right: 8px;
    }
    
    .status-secure {
        background-color: #28a745;
    }
    
    .status-insecure {
        background-color: #dc3545;
    }
    
    .status-warning {
        background-color: #ffc107;
    }
    
    .chat-message {
        max-width: 80%;
        padding: 12px 15px;
        border-radius: 18px;
        margin-bottom: 15px;
        word-wrap: break-word;
    }
    
    .user-message {
        background: var(--primary-color);
        color: white;
        margin-left: auto;
        border-bottom-right-radius: 5px;
    }
    
    .ai-message {
        background: white;
        color: #333;
        margin-right: auto;
        border-bottom-left-radius: 5px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    .system-message {
        background: #f8d7da;
        color: #721c24;
        margin: 0 auto;
        text-align: center;
        border-radius: 8px;
    }
    
    .typing-indicator {
        display: inline-flex;
        padding: 10px 15px;
        background: white;
        border-radius: 18px;
        border-bottom-left-radius: 5px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    .typing-dot {
        width: 8px;
        height: 8px;
        background: #888;
        border-radius: 50%;
        margin: 0 3px;
        animation: typing-animation 1.4s infinite ease-in-out;
    }
    
    .typing-dot:nth-child(2) {
        animation-delay: 0.2s;
    }
    
    .typing-dot:nth-child(3) {
        animation-delay: 0.4s;
    }
    
    @keyframes typing-animation {
        0%, 60%, 100% { transform: translateY(0); }
        30% { transform: translateY(-5px); }
    }
    
    #chatMessages {
        height: 300px;
        overflow-y: auto;
        padding: 20px;
        background: var(--light-bg);
    }

    .card {
      margin-top: 15%;
    }
    
    .api-key-help {
        background: #e7f3ff;
        border-radius: 8px;
        padding: 15px;
        margin-top: 20px;
    }
    
    .api-key-help h5 {
        color: var(--primary-color);
        margin-bottom: 10px;
    }
</style>
</head>

<body>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Cache DOM elements
            const elements = {
                searchButton: document.querySelector('.search-button'),
                searchPopup: document.querySelector('.search-popup'),
                searchClose: document.querySelector('.search-close'),
                searchInput: document.getElementById('myInput'),
                searchTable: document.getElementById('myTable'),
                body: document.body
            };

            // State management
            const state = {
                isPopupOpen: false,
                currentSearchTerm: ''
            };

            // Initialize the search system
            function initSearchSystem() {
                if (!elements.searchButton || !elements.searchPopup) return;

                // Event listeners
                setupEventListeners();
                
                // Set initial aria attributes for accessibility
                setAriaAttributes();
            }

            // Set up all event listeners
            function setupEventListeners() {
                // Search button click
                elements.searchButton.addEventListener('click', handleSearchButtonClick);
                
                // Close button click
                if (elements.searchClose) {
                elements.searchClose.addEventListener('click', closeSearchPopup);
                }
                
                // Click outside popup content
                elements.searchPopup.addEventListener('click', function(e) {
                if (e.target === elements.searchPopup) {
                    closeSearchPopup();
                }
                });
                
                // Escape key to close
                document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && state.isPopupOpen) {
                    closeSearchPopup();
                }
                });
                
                // Search input events
                if (elements.searchInput) {
                // Debounced search
                elements.searchInput.addEventListener('input', debounce(handleSearchInput, 300));
                
                // Clear search on escape when focused
                elements.searchInput.addEventListener('keydown', function(e) {
                    if (e.key === 'Escape' && this.value) {
                    this.value = '';
                    handleSearchInput();
                    e.stopPropagation();
                    }
                });
                }
            }

            // Handle search button click
            function handleSearchButtonClick(e) {
                e.preventDefault();
                openSearchPopup();
            }

            // Open search popup
            function openSearchPopup() {
                elements.searchPopup.style.display = 'block';
                elements.body.classList.add('body-no-scroll');
                state.isPopupOpen = true;
                
                // Focus input with slight delay for better UX
                setTimeout(() => {
                if (elements.searchInput) {
                    elements.searchInput.focus();
                }
                }, 50);
                
                // Dispatch custom event
                document.dispatchEvent(new CustomEvent('searchPopupOpened'));
            }

            // Close search popup
            function closeSearchPopup() {
                elements.searchPopup.style.display = 'none';
                elements.body.classList.remove('body-no-scroll');
                state.isPopupOpen = false;
                
                // Dispatch custom event
                document.dispatchEvent(new CustomEvent('searchPopupClosed'));
            }

            // Handle search input
            function handleSearchInput() {
                if (!elements.searchInput || !elements.searchTable) return;
                
                const filter = elements.searchInput.value.trim().toUpperCase();
                state.currentSearchTerm = filter;
                
                const rows = elements.searchTable.querySelectorAll('tbody tr');
                let anyResults = false;
                
                rows.forEach(row => {
                const cells = row.querySelectorAll('td');
                let rowMatches = false;
                
                cells.forEach(cell => {
                    const text = cell.textContent || cell.innerText;
                    if (text.toUpperCase().includes(filter)) {
                    rowMatches = true;
                    anyResults = true;
                    }
                });
                
                row.style.display = rowMatches ? '' : 'none';
                });
                
                // Update results count or show "no results" message
                updateResultsFeedback(rows.length, anyResults);
            }

            // Update visual feedback about search results
            function updateResultsFeedback(totalRows, hasResults) {
                // You could implement a results counter or "no results" message here
                // Example:
                const feedbackElement = document.getElementById('search-feedback') || 
                createResultsFeedbackElement();
                
                if (!hasResults && state.currentSearchTerm) {
                feedbackElement.textContent = `No results found for "${state.currentSearchTerm}"`;
                feedbackElement.style.display = 'block';
                } else if (state.currentSearchTerm) {
                const visibleRows = totalRows - document.querySelectorAll('#myTable tbody tr[style*="display: none"]').length;
                feedbackElement.textContent = `Showing ${visibleRows} of ${totalRows} results`;
                feedbackElement.style.display = 'block';
                } else {
                feedbackElement.style.display = 'none';
                }
            }

            // Create results feedback element if it doesn't exist
            function createResultsFeedbackElement() {
                const feedback = document.createElement('div');
                feedback.id = 'search-feedback';
                feedback.style.padding = '10px';
                feedback.style.margin = '10px 0';
                feedback.style.display = 'none';
                elements.searchTable.parentNode.insertBefore(feedback, elements.searchTable);
                return feedback;
            }

            // Debounce function for search input
            function debounce(func, wait) {
                let timeout;
                return function() {
                const context = this, args = arguments;
                clearTimeout(timeout);
                timeout = setTimeout(() => func.apply(context, args), wait);
                };
            }

            // Set ARIA attributes for accessibility
            function setAriaAttributes() {
                if (elements.searchButton) {
                elements.searchButton.setAttribute('aria-haspopup', 'dialog');
                elements.searchButton.setAttribute('aria-expanded', 'false');
                }
                
                if (elements.searchPopup) {
                elements.searchPopup.setAttribute('role', 'dialog');
                elements.searchPopup.setAttribute('aria-modal', 'true');
                elements.searchPopup.setAttribute('aria-hidden', 'true');
                elements.searchPopup.setAttribute('aria-label', 'Search dialog');
                }
            }

            // Update ARIA attributes when popup opens/closes
            function updateAriaAttributes() {
                if (elements.searchButton) {
                elements.searchButton.setAttribute('aria-expanded', state.isPopupOpen.toString());
                }
                
                if (elements.searchPopup) {
                elements.searchPopup.setAttribute('aria-hidden', (!state.isPopupOpen).toString());
                }
            }

            // Initialize everything
            initSearchSystem();
            });
          </script>
</body>
</html>